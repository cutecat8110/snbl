(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb51d64a"],{1953:function(e,t,a){"use strict";a("a75a")},"37ca":function(e,t,a){"use strict";var s=function(e){return{all:e=e||new Map,on:function(t,a){var s=e.get(t);s?s.push(a):e.set(t,[a])},off:function(t,a){var s=e.get(t);s&&(a?s.splice(s.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var s=e.get(t);s&&s.slice().map((function(e){e(a)})),(s=e.get("*"))&&s.slice().map((function(e){e(t,a)}))}}};const c=s();t["a"]=c},a75a:function(e,t,a){},a92e:function(e,t,a){"use strict";a.r(t);var s=a("7a23");const c={id:"dashboard"};function o(e,t,a,o,n,l){const r=Object(s["resolveComponent"])("BackHeader"),i=Object(s["resolveComponent"])("ToastMessages"),d=Object(s["resolveComponent"])("router-view");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["createVNode"])(r),Object(s["createVNode"])(i),Object(s["createVNode"])(d)])}const n={class:"fixed-top"},l={class:"navbar navbar-expand-lg shadow-sm navbar-light bg-white"},r={class:"container"},i=Object(s["createElementVNode"])("button",{class:"navbar-toggler",type:"button","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation","data-bs-target":"#navbarNav","data-bs-toggle":"collapse"},[Object(s["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1),d={id:"navbarNav",class:"collapse navbar-collapse"},b={class:"navbar-nav"},u={class:"navbar-nav ms-auto"};function p(e,t,a,c,o,p){const m=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])("header",n,[Object(s["createElementVNode"])("nav",l,[Object(s["createElementVNode"])("div",r,[Object(s["createVNode"])(m,{class:"navbar-brand",to:"/admin/products"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(" 後台 ")]),_:1}),i,Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("div",b,[Object(s["createVNode"])(m,{class:"nav-link",to:"/admin/products"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("產品")]),_:1}),Object(s["createVNode"])(m,{class:"nav-link",to:"/admin/orders"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("訂單")]),_:1}),Object(s["createVNode"])(m,{class:"nav-link",to:"/admin/coupons"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("優惠")]),_:1}),Object(s["createVNode"])(m,{class:"nav-link",to:"/admin/article"},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("文章")]),_:1})]),Object(s["createElementVNode"])("div",u,[Object(s["createElementVNode"])("a",{class:"nav-link",href:"#",onClick:t[0]||(t[0]=Object(s["withModifiers"])((...e)=>p.logout&&p.logout(...e),["prevent"]))},"登出")])])])])])}var m={methods:{logout(){const e="https://vue3-course-api.hexschool.io/logout";this.$http.post(e).then(e=>{e.data.success&&this.$router.push("/")})}}};m.render=p;var h=m;const j={class:"position-relative"},O={class:"toast-container position-absolute pt-4 pe-4 top-0 end-0",style:{"z-index":"1500"}},v={class:"toast-header"},g={class:"me-auto"},f=["onClick"],k={key:0,class:"toast-body"};function N(e,t,a,c,o,n){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",j,[Object(s["createElementVNode"])("div",O,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(o.messages,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{key:t,class:Object(s["normalizeClass"])(["toast"+t,"toast show"]),role:"alert"},[Object(s["createElementVNode"])("div",v,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])(["bg-"+e.style,"p-2 rounded me-2 d-inline-block"])},null,2),Object(s["createElementVNode"])("strong",g,Object(s["toDisplayString"])(e.title),1),Object(s["createElementVNode"])("button",{class:"btn-close",type:"button","aria-label":"Close",onClick:e=>n.clearToast(t)},null,8,f)]),e.content?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",k,Object(s["toDisplayString"])(e.content),1)):Object(s["createCommentVNode"])("",!0)],2))),128))])])}var V={data(){return{messages:[]}},inject:["emitter"],methods:{toastShow(){setTimeout(()=>{this.messages.shift()},4500)},clearToast(e){this.messages.splice(e,1)}},mounted(){this.emitter.on("push-message",e=>{const{style:t="success",title:a,content:s}=e;this.messages.push({style:t,title:a,content:s}),this.toastShow()})}};V.render=N;var w=V,x=a("37ca"),E=function(e,t="更新"){if(e.data.success)x["a"].emit("push-message",{style:"success",title:t+"成功"});else{const a="string"===typeof e.data.message?[e.data.message]:e.data.message;x["a"].emit("push-message",{style:"danger",title:t+"失敗",content:a.join("、")})}},C={components:{BackHeader:h,ToastMessages:w},provide(){return{emitter:x["a"],httpMessageState:E}},created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=""+e;const t="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(t).then(e=>{e.data.success||this.$swal({icon:"warning",title:"登入過期",text:"請重新登入"}).then(()=>{this.$router.push("/login")})})}};a("1953");C.render=o,C.__scopeId="data-v-17bd5288";t["default"]=C}}]);
//# sourceMappingURL=chunk-fb51d64a.8d6ab0de.js.map