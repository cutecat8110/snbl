{"version":3,"sources":["webpack:///./src/components/back/DelModal.vue?f5e2","webpack:///./src/components/back/Pagination.vue?a9c3","webpack:///./src/views/back/Orders.vue","webpack:///./src/components/back/OrderModal.vue","webpack:///./src/components/back/OrderModal.vue?c0b1","webpack:///./src/views/back/Orders.vue?3295","webpack:///./src/components/back/OrderModal.vue?f435","webpack:///./src/components/back/DelModal.vue","webpack:///./src/components/back/DelModal.vue?574c","webpack:///./src/views/back/Orders.vue?321c","webpack:///./src/components/back/Pagination.vue","webpack:///./src/components/back/Pagination.vue?2496"],"names":["class","width","active","isLoading","z-index","orders","item","key","length","is_paid","$filters","date","create_at","id","substr","products","product","i","title","qty","unit","currency","total","type","updatePaid","for","openModal","pages","pagination","getOrders","ref","order","tempOrder","delItem","origin","pageName","delOrder","aria-hidden","aria-labelledby","data-bs-backdrop","tabindex","aria-label","data-bs-dismiss","style","user","name","email","tel","address","paid_date","final_total","value","$emit","mixins","modalMixin","emits","props","Object","status","modal","isPaid","watch","this","deep","render","__scopeId","components","DelModal","Pagination","OrderModal","inject","currentPage","methods","page","url","$http","get","tempProduct","then","res","data","event","$refs","orderModal","delModal","api","paid","put","hideModal","httpMessageState","delete","current_page","href","emitPage","total_pages","index"],"mappings":"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","file":"js/chunk-71f80061.e3a7ac46.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DelModal.vue?vue&type=style&index=0&id=6b5d3c3c&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Pagination.vue?vue&type=style&index=0&id=75ca2a47&lang=scss&scoped=true\"","<template>\r\n  <div>\r\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\r\n    <div class=\"container py-4\">\r\n      <div class=\"bg-white px-4 border\">\r\n        <div class=\"navbar py-3\">\r\n          <div class=\"container-fluid\">\r\n            <span class=\"navbar-brand\">訂單管理</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"table-responsive mb-3\">\r\n          <table class=\"table table-hover align-middle mb-0\">\r\n            <thead class=\"bg-gray-000\">\r\n              <tr>\r\n                <th class=\"position-relative\" width=\"128\">下單日期</th>\r\n                <th class=\"position-relative\">訂單編號</th>\r\n                <th class=\"position-relative\">商品</th>\r\n                <th class=\"position-relative\" width=\"128\">應付金額</th>\r\n                <th class=\"position-relative\" width=\"128\">狀態</th>\r\n                <th width=\"128\">編輯</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n                <tr v-if=\"orders.length\" :class=\"{ 'text-gray-500 fw-light': !item.is_paid }\">\r\n                  <td>{{ $filters.date(item.create_at) }}</td>\r\n                  <td>{{ item.id.substr(1) }}</td>\r\n                  <td>\r\n                    <ul class=\"list-unstyled my-0\">\r\n                      <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                        {{ product.product.title }} 數量：{{ product.qty }}\r\n                        {{ product.product.unit }}\r\n                      </li>\r\n                    </ul>\r\n                  </td>\r\n                  <td>{{ $filters.currency(item.total) }}</td>\r\n                  <td>\r\n                    <div class=\"form-check form-switch\">\r\n                      <input\r\n                        :id=\"`paidSwitch${item.id}`\"\r\n                        v-model=\"item.is_paid\"\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        @change=\"updatePaid(item)\"\r\n                      />\r\n                      <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                        <span v-if=\"item.is_paid\">付款</span>\r\n                        <span v-else>未付款</span>\r\n                      </label>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"btn-group\">\r\n                      <button\r\n                        class=\"btn btn-outline-primary btn-sm\"\r\n                        type=\"button\"\r\n                        @click=\"openModal('edit', item)\"\r\n                      >\r\n                        編輯\r\n                      </button>\r\n                      <button\r\n                        class=\"btn btn-outline-danger btn-sm\"\r\n                        type=\"button\"\r\n                        @click=\"openModal('delete', item)\"\r\n                      >\r\n                        刪除\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <Pagination :pages=\"pagination\" @emit-page=\"getOrders\"></Pagination>\r\n      </div>\r\n    </div>\r\n    <!-- 編輯 元件 -->\r\n    <OrderModal ref=\"orderModal\" :order=\"tempOrder\" @update-paid=\"updatePaid\"></OrderModal>\r\n    <!-- 刪除 元件 -->\r\n    <DelModal\r\n      ref=\"delModal\"\r\n      :delItem=\"tempOrder.id\"\r\n      :origin=\"pageName\"\r\n      @del-item=\"delOrder\"\r\n    ></DelModal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DelModal from '@/components/back/DelModal.vue'\r\nimport OrderModal from '@/components/back/OrderModal.vue'\r\nimport Pagination from '@/components/back/Pagination.vue'\r\n\r\nexport default {\r\n  components: {\r\n    DelModal,\r\n    Pagination,\r\n    OrderModal\r\n  },\r\n  inject: ['httpMessageState'],\r\n  data() {\r\n    return {\r\n      pageName: '訂單',\r\n      isLoading: false,\r\n      pagination: [],\r\n      currentPage: 1,\r\n      orders: [],\r\n      tempOrder: {\r\n        id: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders(page = 1) {\r\n      this.isLoading = true\r\n      this.currentPage = page\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(url, this.tempProduct).then((res) => {\r\n        this.orders = res.data.orders\r\n        this.pagination = res.data.pagination\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    openModal(event, item) {\r\n      this.tempOrder = { ...item }\r\n      if (event === 'edit') {\r\n        this.$refs.orderModal.openModal()\r\n      } else if (event === 'delete') {\r\n        this.$refs.delModal.openModal()\r\n      }\r\n    },\r\n    updatePaid(item) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\r\n      const paid = {\r\n        is_paid: item.is_paid\r\n      }\r\n      const status = '更新付款狀態'\r\n      this.$http.put(api, { data: paid }).then((res) => {\r\n        this.getOrders(this.currentPage)\r\n        this.isLoading = false\r\n        this.$refs.orderModal.hideModal()\r\n        this.httpMessageState(res, status)\r\n      })\r\n    },\r\n    delOrder() {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n      this.$http.delete(url).then((res) => {\r\n        this.getOrders(this.currentPage)\r\n        this.isLoading = false\r\n        this.httpMessageState(res, '刪除訂單')\r\n        this.$refs.delModal.hideModal()\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/stylesheets/custom/_backTable';\r\n</style>\r\n","<template>\r\n  <div\r\n    id=\"oderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    aria-hidden=\"true\"\r\n    aria-labelledby=\"oderModalLabel\"\r\n    data-bs-backdrop=\"static\"\r\n    tabindex=\"-1\"\r\n  >\r\n    <div class=\"modal-dialog modal-lg modal-dialog-scrollable\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header\">\r\n          <h3 id=\"exampleModalLabel\" class=\"modal-title\">\r\n            <span>編輯訂單</span>\r\n          </h3>\r\n          <button\r\n            class=\"btn-close\"\r\n            type=\"button\"\r\n            aria-label=\"Close\"\r\n            data-bs-dismiss=\"modal\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <section class=\"mb-4\">\r\n            <h5>客戶資訊</h5>\r\n            <div class=\"pb-2 w-100\">\r\n              <table class=\"table m-0\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </section>\r\n          <section class=\"mb-4\">\r\n            <h5>訂單資訊</h5>\r\n            <div class=\"pb-2 w-100\">\r\n              <table class=\"table m-0\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單日期</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款日期</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                      <span v-else class=\"text-gray-500\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>應付金額</th>\r\n                    <td>\r\n                      {{ $filters.currency(tempOrder.total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </section>\r\n          <section class=\"mb-4\">\r\n            <h5>訂單明細</h5>\r\n            <div class=\"pb-2 mw-100\">\r\n              <table class=\"table m-0\">\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th style=\"white-space: normal\">\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td class=\"col-1\">{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"col-1 text-end\">\r\n                      {{ $filters.currency(item.final_total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </section>\r\n          <section class=\"mb-3\">\r\n            <h5>付款狀態</h5>\r\n            <div class=\"row g-3 p-2\">\r\n              <div class=\"col\">\r\n                <!-- 開啟 -->\r\n                <label class=\"d-inline-block py-2 me-2\" for=\"isEnabled1\">\r\n                  <input\r\n                    id=\"isEnabled1\"\r\n                    v-model=\"tempOrder.is_paid\"\r\n                    class=\"form-check-input\"\r\n                    type=\"radio\"\r\n                    value=\"true\"\r\n                  />\r\n                  <span class=\"px-2\"> 開啟 </span>\r\n                </label>\r\n                <!-- 關閉 -->\r\n                <label class=\"d-inline-block py-2 me-2\" for=\"isEnabled0\">\r\n                  <input\r\n                    id=\"isEnabled0\"\r\n                    v-model=\"tempOrder.is_paid\"\r\n                    class=\"form-check-input\"\r\n                    type=\"radio\"\r\n                    value=\"false\"\r\n                  />\r\n                  <span class=\"px-2\"> 關閉 </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn btn-outline-secondary me-3\" type=\"button\" data-bs-dismiss=\"modal\">\r\n            取消\r\n          </button>\r\n          <button class=\"btn btn-primary\" type=\"button\" @click=\"$emit('update-paid', tempOrder)\">\r\n            確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  mixins: [modalMixin],\r\n  emits: ['update-paid'],\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {\r\n        is_paid: ''\r\n      },\r\n      isPaid: false\r\n    }\r\n  },\r\n  watch: {\r\n    order() {\r\n      this.tempOrder = { ...this.order }\r\n    },\r\n    'tempOrder.is_paid': {\r\n      handler() {\r\n        if (this.tempOrder.is_paid === 'true') {\r\n          this.tempOrder.is_paid = true\r\n        } else if (this.tempOrder.is_paid === 'false') {\r\n          this.tempOrder.is_paid = false\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/stylesheets/custom/_modal';\r\n</style>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=6aa9440e&scoped=true\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport \"./OrderModal.vue?vue&type=style&index=0&id=6aa9440e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6aa9440e\"\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=0005d2e4&scoped=true\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport \"./Orders.vue?vue&type=style&index=0&id=0005d2e4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0005d2e4\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OrderModal.vue?vue&type=style&index=0&id=6aa9440e&lang=scss&scoped=true\"","<template>\r\n  <div\r\n    id=\"delProductModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    aria-hidden=\"true\"\r\n    aria-labelledby=\"delProductModalLabel\"\r\n    data-bs-backdrop=\"static\"\r\n    tabindex=\"-1\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header\">\r\n          <h3 id=\"delProductModalLabel\" class=\"modal-title\">\r\n            <span>刪除{{ origin }}</span>\r\n          </h3>\r\n          <button\r\n            class=\"btn-close\"\r\n            type=\"button\"\r\n            aria-label=\"Close\"\r\n            data-bs-dismiss=\"modal\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          是否永久刪除【\r\n          <strong class=\"text-danger\">&nbsp;{{ delItem }}&nbsp;</strong> 】?\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn btn-outline-secondary me-3\" type=\"button\" data-bs-dismiss=\"modal\">\r\n            取消\r\n          </button>\r\n          <button class=\"btn btn-danger\" type=\"button\" @click=\"$emit('del-item')\">刪除</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  mixins: [modalMixin],\r\n  props: ['origin', 'delItem'],\r\n  emits: ['del-item']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/stylesheets/custom/_modal';\r\n</style>\r\n","import { render } from \"./DelModal.vue?vue&type=template&id=6b5d3c3c&scoped=true\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport \"./DelModal.vue?vue&type=style&index=0&id=6b5d3c3c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6b5d3c3c\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Orders.vue?vue&type=style&index=0&id=0005d2e4&lang=scss&scoped=true\"","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-end\">\r\n      <li :class=\"{ disabled: pages.current_page === 1 }\" class=\"page-item\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"emitPage(pages.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n          <span class=\"sr-only\"></span>\r\n        </a>\r\n      </li>\r\n\r\n      <li\r\n        v-for=\"(item, index) in pages.total_pages\"\r\n        :key=\"index\"\r\n        :class=\"{ active: item === pages.current_page }\"\r\n        class=\"page-item\"\r\n      >\r\n        <span v-if=\"item === pages.current_page\" class=\"page-link\">{{ item }}</span>\r\n        <a v-else class=\"page-link\" href=\"#\" @click.prevent=\"emitPage(item)\">{{ item }}</a>\r\n      </li>\r\n\r\n      <li :class=\"{ disabled: pages.current_page === pages.total_pages }\" class=\"page-item\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"emitPage(pages.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n          <span class=\"sr-only\"></span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    emitPage(item) {\r\n      this.$emit('emit-page', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-item.active .page-link {\r\n  cursor: default;\r\n}\r\n</style>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=75ca2a47&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=75ca2a47&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-75ca2a47\"\n\nexport default script"],"sourceRoot":""}