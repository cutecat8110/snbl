(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28f3b0ff"],{"036b":function(e,t,c){"use strict";c("04f5")},"04f5":function(e,t,c){},"0d3c":function(e,t,c){"use strict";c("9aba")},"25ad":function(e,t,c){},"372d":function(e,t,c){"use strict";c.r(t);var l=c("7a23");const o=e=>(Object(l["pushScopeId"])("data-v-f82b65a8"),e=e(),Object(l["popScopeId"])(),e),a={class:"container py-4"},r={class:"bg-white px-4 border"},n={class:"navbar py-3"},d={class:"container-fluid"},s=o(()=>Object(l["createElementVNode"])("span",{class:"navbar-brand"},"產品管理列表",-1)),i=o(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-18"},"add",-1)),m=o(()=>Object(l["createElementVNode"])("span",null,"新增",-1)),b=[i,m],p={class:"table-responsive mb-3"},u={class:"table table-hover align-middle mb-0"},j=o(()=>Object(l["createElementVNode"])("thead",{class:"bg-gray-000"},[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{class:"position-relative",width:"128"},"分類"),Object(l["createElementVNode"])("th",{class:"position-relative"},"產品名稱"),Object(l["createElementVNode"])("th",{class:"position-relative"},"原價"),Object(l["createElementVNode"])("th",{class:"position-relative"},"售價"),Object(l["createElementVNode"])("th",{class:"position-relative",width:"128"},"狀態"),Object(l["createElementVNode"])("th",{width:"128"},"編輯")])],-1)),O={key:1},g={key:0,class:"text-success d-flex align-items-center"},f=o(()=>Object(l["createElementVNode"])("div",{class:"circle bg-success me-2"},null,-1)),k=o(()=>Object(l["createElementVNode"])("span",null,"已上架 ",-1)),h=[f,k],E={key:1,class:"d-flex align-items-center"},N=o(()=>Object(l["createElementVNode"])("div",{class:"circle bg-gray-300 me-2"},null,-1)),V=o(()=>Object(l["createElementVNode"])("span",null,"關閉 ",-1)),v=[N,V],y={class:"btn-group"},B=["onClick"],x=["onClick"];function U(e,t,c,o,i,m){const f=Object(l["resolveComponent"])("Loading"),k=Object(l["resolveComponent"])("router-link"),N=Object(l["resolveComponent"])("Pagination"),V=Object(l["resolveComponent"])("ProductModal"),U=Object(l["resolveComponent"])("DelModal");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(f,{active:i.isLoading,"z-index":1060},null,8,["active"]),Object(l["createElementVNode"])("div",a,[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("div",d,[s,Object(l["createElementVNode"])("button",{class:"btn-sm btn-primary d-flex align-items-center",onClick:t[0]||(t[0]=e=>m.openModal("create"))},b)])]),Object(l["createElementVNode"])("div",p,[Object(l["createElementVNode"])("table",u,[j,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(i.products,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:e.id},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.category),1),Object(l["createElementVNode"])("td",null,[e.is_enabled?(Object(l["openBlock"])(),Object(l["createBlock"])(k,{key:0,to:{path:"Product/"+e.id}},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.title),1)]),_:2},1032,["to"])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",O,Object(l["toDisplayString"])(e.title),1))]),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.origin_price),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.price),1),Object(l["createElementVNode"])("td",null,[e.is_enabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",g,h)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",E,v))]),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",y,[Object(l["createElementVNode"])("button",{class:"btn btn-outline-primary btn-sm",type:"button",onClick:e=>m.openModal("edit",t)}," 編輯 ",8,B),Object(l["createElementVNode"])("button",{class:"btn btn-outline-danger btn-sm",type:"button",onClick:e=>m.openModal("delete",t)}," 刪除 ",8,x)])])]))),128))])])]),Object(l["createVNode"])(N,{pages:i.pagination,onEmitPage:m.getData},null,8,["pages","onEmitPage"])])]),Object(l["createVNode"])(V,{ref:"ProductModal","is-new":i.isNew,tempProduct:i.tempProduct,onUpdateProduct:m.updateProduct},null,8,["is-new","tempProduct","onUpdateProduct"]),Object(l["createVNode"])(U,{ref:"DelModal",delItem:i.tempProduct.title,origin:i.pageName,onDelItem:m.deleteProduct},null,8,["delItem","origin","onDelItem"])])}var w=c("590b"),C=c("d4a2");const I=e=>(Object(l["pushScopeId"])("data-v-14311676"),e=e(),Object(l["popScopeId"])(),e),P={ref:"modal",class:"modal fade","aria-hidden":"true","aria-labelledby":"productModalLabel","data-bs-backdrop":"static",tabindex:"-1"},M={class:"modal-dialog modal-lg modal-dialog-scrollable"},S={class:"modal-content border-0"},D={class:"modal-header"},_={id:"productModalLabel",class:"modal-title"},F={key:0},L={key:1},T=I(()=>Object(l["createElementVNode"])("button",{class:"btn-close",type:"button","aria-label":"Close","data-bs-dismiss":"modal"},null,-1)),z={class:"position-relative"},$={class:"position-absolute",style:{"z-index":"1056"}},A=I(()=>Object(l["createElementVNode"])("h6",{class:"text-gray-300 text-center py-2 mb-0"},"This page",-1)),J={class:"list-group fs-6 fw-normal border-start"},R=["onClick"],X={ref:"modalBody",class:"modal-body"},W={ref:"basic",class:"mb-4"},q=I(()=>Object(l["createElementVNode"])("h5",null,"基本資訊",-1)),G={class:"row g-3 p-2"},H={class:"col-12"},K=I(()=>Object(l["createElementVNode"])("label",{class:"form-label",for:"title"},[Object(l["createTextVNode"])("商品名稱 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1)),Q={class:"col-6"},Y=I(()=>Object(l["createElementVNode"])("label",{class:"form-label",for:"category"},[Object(l["createTextVNode"])(" 分類 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1)),Z=I(()=>Object(l["createElementVNode"])("option",{value:"",disabled:""},"請選擇",-1)),ee=["value"],te={class:"col-6"},ce=I(()=>Object(l["createElementVNode"])("label",{class:"form-label",for:"unit"},[Object(l["createTextVNode"])(" 單位 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1)),le=I(()=>Object(l["createElementVNode"])("option",{value:"",disabled:""},"請選擇",-1)),oe=["value"],ae={ref:"sales",class:"mb-4"},re=I(()=>Object(l["createElementVNode"])("h5",null,"銷售",-1)),ne={class:"row g-3 p-2"},de={class:"col-md-6"},se=I(()=>Object(l["createElementVNode"])("label",{class:"form-label",for:"origin_price"},[Object(l["createTextVNode"])(" 原價 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1)),ie={class:"input-group"},me=I(()=>Object(l["createElementVNode"])("span",{class:"input-group-text bg-light"},"NT$",-1)),be={class:"col-md-6"},pe=I(()=>Object(l["createElementVNode"])("label",{class:"form-label",for:"price"},[Object(l["createTextVNode"])(" 售價 "),Object(l["createElementVNode"])("span",{class:"text-red"},"﹡")],-1)),ue={class:"input-group"},je=I(()=>Object(l["createElementVNode"])("span",{class:"input-group-text bg-light"},"NT$",-1)),Oe={class:"col-md-12"},ge=I(()=>Object(l["createElementVNode"])("label",{class:"form-label"},"尺寸",-1)),fe={class:"d-flex flex-wrap"},ke=["for"],he=["id","value"],Ee={class:"px-2"},Ne={key:0,class:"col-md-12"},Ve=I(()=>Object(l["createElementVNode"])("label",{class:"form-label"},"顏色",-1)),ve={class:"d-flex flex-wrap"},ye={class:"w-50"},Be=["id","onUpdate:modelValue"],xe=["onClick"],Ue={class:"w-50"},we=["id","onUpdate:modelValue"],Ce=["onClick"],Ie=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1)),Pe=I(()=>Object(l["createElementVNode"])("span",{class:"fs-6 fw-normal text-gray-600"},"新增",-1)),Me=[Ie,Pe],Se=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"clear",-1)),De=I(()=>Object(l["createElementVNode"])("span",{class:"fs-6 fw-normal text-gray-600"},"刪除",-1)),_e=[Se,De],Fe={ref:"productPicture",class:"mb-3"},Le=I(()=>Object(l["createElementVNode"])("h5",null,"商品圖",-1)),Te={class:"d-flex flex-wrap mt-3"},ze={class:"m-2"},$e={key:0,class:"d-block bg-light border rounded upfile-wrapper upload d-flex",for:"fileInput"},Ae=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1)),Je=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1)),Re={class:"w-100 h-100 overflow-hidden d-flex justify-content-center align-items-center mask"},Xe=["src"],We={class:"form-label mt-2 text-center"},qe={key:0,class:"fas fa-spinner fa-spin"},Ge=["onClick"],He={class:"w-100 h-100 overflow-hidden d-flex justify-content-center align-items-center mask"},Ke=["src"],Qe=["for"],Ye=["id","onChange"],Ze=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1)),et=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1)),tt={class:"form-label mt-2 text-center"},ct={key:0,class:"fas fa-spinner fa-spin"},lt={class:"m-2"},ot=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1)),at=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1)),rt=[ot,at],nt=I(()=>Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"},"新增",-1)),dt=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1)),st=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1)),it=[dt,st],mt=I(()=>Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"},"刪除",-1)),bt={ref:"modelPicture",class:"mb-3"},pt=I(()=>Object(l["createElementVNode"])("h5",null,"展示圖",-1)),ut={class:"d-flex flex-wrap mt-3"},jt={class:"m-2"},Ot={key:0,class:"d-block bg-light border rounded upfile-wrapper upload d-flex",for:"modelImageUrl"},gt=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1)),ft=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1)),kt={class:"w-100 h-100 overflow-hidden d-flex justify-content-center align-items-center mask"},ht=["src"],Et={class:"form-label mt-2 text-center"},Nt={key:0,class:"fas fa-spinner fa-spin"},Vt=["onClick"],vt={class:"w-100 h-100 overflow-hidden d-flex justify-content-center align-items-center mask"},yt=["src"],Bt=["for"],xt=["id","onChange"],Ut=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1)),wt=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1)),Ct={class:"form-label mt-2 text-center"},It={key:0,class:"fas fa-spinner fa-spin"},Pt={class:"m-2"},Mt=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1)),St=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1)),Dt=[Mt,St],_t=I(()=>Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"},"新增",-1)),Ft=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1)),Lt=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1)),Tt=[Ft,Lt],zt=I(()=>Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"},"刪除",-1)),$t={ref:"productDetail",class:"mb-3"},At=I(()=>Object(l["createElementVNode"])("h5",null,"商品細節",-1)),Jt={class:"d-flex flex-wrap mt-3"},Rt=["onClick"],Xt={class:"w-100 h-100 overflow-hidden d-flex justify-content-center align-items-center mask"},Wt=["src"],qt=["for"],Gt=["id","onChange"],Ht=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1)),Kt=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1)),Qt={class:"form-label mt-2 text-center"},Yt={key:0,class:"fas fa-spinner fa-spin"},Zt={class:"m-2"},ec=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"add",-1)),tc=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Add",-1)),cc=[ec,tc],lc=I(()=>Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"},"新增",-1)),oc=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"delete",-1)),ac=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Delete",-1)),rc=[oc,ac],nc=I(()=>Object(l["createElementVNode"])("div",{class:"form-label mt-2 d-block text-center"},"刪除",-1)),dc={ref:"productInformation",class:"mb-3"},sc=I(()=>Object(l["createElementVNode"])("h5",null,"詳細資訊",-1)),ic={class:"d-flex flex-wrap mt-3"},mc=["for"],bc=["id","onChange"],pc=I(()=>Object(l["createElementVNode"])("i",{class:"material-icons md-dark"},"file_upload",-1)),uc=I(()=>Object(l["createElementVNode"])("div",{class:"fs-6 fw-normal text-gray-600"},"Upload",-1)),jc=["onClick"],Oc={class:"w-100 h-100 overflow-hidden d-flex justify-content-center align-items-center mask"},gc=["src"],fc={class:"form-label mt-2 text-center"},kc={key:0,class:"fas fa-spinner fa-spin"},hc={ref:"isEnabled",class:"mb-4"},Ec=I(()=>Object(l["createElementVNode"])("h5",null,"上架狀態",-1)),Nc={class:"row g-3 p-2"},Vc={class:"col"},vc={class:"d-inline-block py-2 me-2",for:"isEnabled1"},yc=I(()=>Object(l["createElementVNode"])("span",{class:"px-2"}," 開啟 ",-1)),Bc={class:"d-inline-block py-2 me-2",for:"isEnabled0"},xc=I(()=>Object(l["createElementVNode"])("span",{class:"px-2"}," 關閉 ",-1)),Uc={class:"modal-footer bg-white",style:{"z-index":"1057"}},wc=I(()=>Object(l["createElementVNode"])("button",{class:"btn btn-outline-secondary me-3",type:"button","data-bs-dismiss":"modal"}," 取消 ",-1));function Cc(e,t,c,o,a,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",P,[Object(l["createElementVNode"])("div",M,[Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("div",D,[Object(l["createElementVNode"])("h3",_,[c.isNew?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",F,"新增商品")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",L,"編輯商品"))]),T]),Object(l["createElementVNode"])("nav",z,[Object(l["createElementVNode"])("div",$,[A,Object(l["createElementVNode"])("ul",J,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.nav,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:t,class:"list-group-item border-0 text-gray-600"},[Object(l["createElementVNode"])("a",{onClick:Object(l["withModifiers"])(t=>r.subNav(e.ref),["prevent"]),class:"text-reset",href:"#"},Object(l["toDisplayString"])(e.name),9,R)]))),128))])])]),Object(l["createElementVNode"])("div",X,[Object(l["createElementVNode"])("section",W,[q,Object(l["createElementVNode"])("div",G,[Object(l["createElementVNode"])("div",H,[K,Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])([a.product.title?"inputClear":"","form-group position-relative"])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"title",ref:"productTitle","onUpdate:modelValue":t[0]||(t[0]=e=>a.product.title=e),class:"form-control",type:"text",placeholder:"請輸入"},null,512),[[l["vModelText"],a.product.title]]),a.product.title?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,onClick:t[1]||(t[1]=()=>{a.product.title="",r.clearFocus("productTitle")}),class:"btn-close position-absolute top-50 end-0 translate-middle-y",type:"button"})):Object(l["createCommentVNode"])("",!0)],2)]),Object(l["createElementVNode"])("div",Q,[Y,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{id:"category","onUpdate:modelValue":t[2]||(t[2]=e=>a.product.category=e),class:"form-select"},[Z,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.category,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,ee))),128))],512),[[l["vModelSelect"],a.product.category]])]),Object(l["createElementVNode"])("div",te,[ce,Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{id:"unit","onUpdate:modelValue":t[3]||(t[3]=e=>a.product.unit=e),class:"form-select"},[le,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.unit,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t,value:e},Object(l["toDisplayString"])(e),9,oe))),128))],512),[[l["vModelSelect"],a.product.unit]])])])],512),Object(l["createElementVNode"])("section",ae,[re,Object(l["createElementVNode"])("div",ne,[Object(l["createElementVNode"])("div",de,[se,Object(l["createElementVNode"])("div",ie,[me,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"origin_price","onUpdate:modelValue":t[4]||(t[4]=e=>a.product.origin_price=e),class:"form-control",type:"number",placeholder:"請輸入",min:"0"},null,512),[[l["vModelText"],a.product.origin_price,void 0,{number:!0}]])])]),Object(l["createElementVNode"])("div",be,[pe,Object(l["createElementVNode"])("div",ue,[je,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"price","onUpdate:modelValue":t[5]||(t[5]=e=>a.product.price=e),class:"form-control",type:"number",placeholder:"請輸入",min:"0"},null,512),[[l["vModelText"],a.product.price,void 0,{number:!0}]])])]),Object(l["createElementVNode"])("div",Oe,[ge,Object(l["createElementVNode"])("div",fe,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.clothSize,(e,c)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:c,class:"d-inline-block py-2 me-2",for:"clothSize"+e},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"clothSize"+e,"onUpdate:modelValue":t[6]||(t[6]=e=>a.product.clothSize=e),class:"form-check-input",type:"checkbox",value:e},null,8,he),[[l["vModelCheckbox"],a.product.clothSize]]),Object(l["createElementVNode"])("span",Ee,Object(l["toDisplayString"])(e),1)],8,ke))),128))])]),a.product.colors?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ne,[Ve,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.colors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"mb-3"},[Object(l["createElementVNode"])("div",ve,[e.colorChart?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"w-100 colorReveal border border-bottom-0 rounded-top",style:Object(l["normalizeStyle"])({backgroundColor:e.colorChart})},null,4)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",ye,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])([e.name?"inputClear":"","form-group position-relative"])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"colors"+t,ref_for:!0,ref:"colors"+t,"onUpdate:modelValue":t=>e.name=t,class:Object(l["normalizeClass"])([e.colorChart?"colorsName":"name","form-control"]),type:"text",placeholder:"請輸入色名，例如：白色"},null,10,Be),[[l["vModelText"],e.name]]),e.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,onClick:()=>{a.product.colors[t].name="",r.clearFocus("colors"+t)},class:"btn-close position-absolute top-50 end-0 translate-middle-y",type:"button"},null,8,xe)):Object(l["createCommentVNode"])("",!0)],2)]),Object(l["createElementVNode"])("div",Ue,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])([e.colorChart?"inputClear":"","form-group position-relative"])},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"colorChart"+t,ref_for:!0,ref:"colorChart"+t,"onUpdate:modelValue":t=>e.colorChart=t,class:Object(l["normalizeClass"])([e.colorChart?"colorChart":"chart","form-control"]),type:"text",placeholder:"請輸入色票，例如：#F1F1F1"},null,10,we),[[l["vModelText"],e.colorChart]]),e.colorChart?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,onClick:()=>{a.product.colors[t].colorChart="",r.clearFocus("colorChart"+t)},class:"btn-close position-absolute top-50 end-0 translate-middle-y",type:"button"},null,8,Ce)):Object(l["createCommentVNode"])("",!0)],2)])])]))),128)),!a.product.colors.length||Object.keys(a.product.colors[a.product.colors.length-1].name).length||Object.keys(a.product.colors[a.product.colors.length-1].colorChart).length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,class:"d-block bg-light border rounded upfile-wrapper upload d-flex btn-size",type:"button",onClick:t[7]||(t[7]=e=>r.colorsFocus())},Me)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:1,class:"d-block bg-light border rounded upfile-wrapper upload d-flex btn-size",type:"button",onClick:t[8]||(t[8]=e=>a.product.colors.pop())},_e))])):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",Fe,[Le,Object(l["createElementVNode"])("div",Te,[Object(l["createElementVNode"])("div",ze,[a.product.imageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,onClick:t[10]||(t[10]=Object(l["withModifiers"])(e=>a.product.imageUrl="",["prevent"])),class:"border rounded upfile-wrapper"},[Object(l["createElementVNode"])("div",Re,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.imageUrl,alt:""},null,8,Xe)])])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",$e,[Object(l["createElementVNode"])("input",{id:"fileInput",ref:"fileInput",class:"d-none",type:"file",onChange:t[9]||(t[9]=e=>r.uploadFile("fileInput","imageUrl"))},null,544),Ae,Je])),Object(l["createElementVNode"])("div",We,[Object(l["createTextVNode"])(" 封面照片 "),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",qe)):Object(l["createCommentVNode"])("",!0)])]),a.product.imagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.imagesUrl,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"m-2"},[a.product.imagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,onClick:Object(l["withModifiers"])(e=>a.product.imagesUrl[t]="",["prevent"]),class:"border rounded upfile-wrapper"},[Object(l["createElementVNode"])("div",He,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.imagesUrl[t],alt:""},null,8,Ke)])],8,Ge)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,class:"d-block bg-light border rounded upfile-wrapper upload d-flex",for:"imagesUrl"+t},[Object(l["createElementVNode"])("input",{id:"imagesUrl"+t,ref_for:!0,ref:"imagesUrl"+t,class:"d-none",type:"file",onChange:e=>r.uploadFile("imagesUrl"+t,"imagesUrl",t)},null,40,Ye),Ze,et],8,Qe)),Object(l["createElementVNode"])("div",tt,[Object(l["createTextVNode"])(" 圖片 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",ct)):Object(l["createCommentVNode"])("",!0)])]))),128)),Object(l["createElementVNode"])("div",lt,[!a.product.imagesUrl.length||a.product.imagesUrl[a.product.imagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{class:"d-block bg-light border rounded upfile-wrapper upload d-flex",type:"button",onClick:t[11]||(t[11]=e=>a.product.imagesUrl.push(""))},rt),nt],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{class:"d-block bg-light border rounded upfile-wrapper upload d-flex",type:"button",onClick:t[12]||(t[12]=e=>a.product.imagesUrl.pop())},it),mt],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",bt,[pt,Object(l["createElementVNode"])("div",ut,[Object(l["createElementVNode"])("div",jt,[a.product.modelImageUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,onClick:t[14]||(t[14]=Object(l["withModifiers"])(e=>a.product.modelImageUrl="",["prevent"])),class:"border rounded upfile-wrapper"},[Object(l["createElementVNode"])("div",kt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.modelImageUrl,alt:""},null,8,ht)])])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",Ot,[Object(l["createElementVNode"])("input",{id:"modelImageUrl",ref:"modelImageUrl",class:"d-none",type:"file",onChange:t[13]||(t[13]=e=>r.uploadFile("modelImageUrl","modelImageUrl"))},null,544),gt,ft])),Object(l["createElementVNode"])("div",Et,[Object(l["createTextVNode"])(" 形象封面 "),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Nt)):Object(l["createCommentVNode"])("",!0)])]),a.product.modelImagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.modelImagesUrl,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"m-2"},[a.product.modelImagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,onClick:Object(l["withModifiers"])(e=>a.product.modelImagesUrl[t]="",["prevent"]),class:"border rounded upfile-wrapper"},[Object(l["createElementVNode"])("div",vt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.modelImagesUrl[t],alt:""},null,8,yt)])],8,Vt)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,class:"d-block bg-light border rounded upfile-wrapper upload d-flex",for:"modelImagesUrl"+t},[Object(l["createElementVNode"])("input",{id:"modelImagesUrl"+t,ref_for:!0,ref:"modelImagesUrl"+t,class:"d-none",type:"file",onChange:e=>r.uploadFile("modelImagesUrl"+t,"modelImagesUrl",t)},null,40,xt),Ut,wt],8,Bt)),Object(l["createElementVNode"])("div",Ct,[Object(l["createTextVNode"])(" 展示 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",It)):Object(l["createCommentVNode"])("",!0)])]))),128)),Object(l["createElementVNode"])("div",Pt,[!a.product.modelImagesUrl.length||a.product.modelImagesUrl[a.product.modelImagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{class:"d-block bg-light border rounded upfile-wrapper upload d-flex",type:"button",onClick:t[15]||(t[15]=e=>a.product.modelImagesUrl.push(""))},Dt),_t],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{class:"d-block bg-light border rounded upfile-wrapper upload d-flex",type:"button",onClick:t[16]||(t[16]=e=>a.product.modelImagesUrl.pop())},Tt),zt],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",$t,[At,Object(l["createElementVNode"])("div",Jt,[a.product.detalImagesUrl?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.product.detalImagesUrl,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"m-2"},[a.product.detalImagesUrl[t]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,onClick:Object(l["withModifiers"])(e=>a.product.detalImagesUrl[t]="",["prevent"]),class:"border rounded upfile-wrapper"},[Object(l["createElementVNode"])("div",Xt,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product.detalImagesUrl[t],alt:""},null,8,Wt)])],8,Rt)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:1,class:"d-block bg-light border rounded upfile-wrapper upload d-flex",for:"detalImagesUrl"+t},[Object(l["createElementVNode"])("input",{id:"detalImagesUrl"+t,ref_for:!0,ref:"detalImagesUrl"+t,class:"d-none",type:"file",onChange:e=>r.uploadFile("detalImagesUrl"+t,"detalImagesUrl",t)},null,40,Gt),Ht,Kt],8,qt)),Object(l["createElementVNode"])("div",Qt,[Object(l["createTextVNode"])(" 細節 "+Object(l["toDisplayString"])(t+1)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",Yt)):Object(l["createCommentVNode"])("",!0)])]))),128)),Object(l["createElementVNode"])("div",Zt,[!a.product.detalImagesUrl.length||a.product.detalImagesUrl[a.product.detalImagesUrl.length-1]?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createElementVNode"])("button",{class:"d-block bg-light border rounded upfile-wrapper upload d-flex",type:"button",onClick:t[17]||(t[17]=e=>a.product.detalImagesUrl.push(""))},cc),lc],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createElementVNode"])("button",{class:"d-block bg-light border rounded upfile-wrapper upload d-flex",type:"button",onClick:t[18]||(t[18]=e=>a.product.detalImagesUrl.pop())},rc),nc],64))])],64)):Object(l["createCommentVNode"])("",!0)])],512),Object(l["createElementVNode"])("section",dc,[sc,Object(l["createElementVNode"])("div",ic,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.productInformation,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:t,class:"m-2"},[a.product[e.ref]?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:1,onClick:Object(l["withModifiers"])(t=>a.product[e.ref]="",["prevent"]),class:"border rounded upfile-wrapper"},[Object(l["createElementVNode"])("div",Oc,[Object(l["createElementVNode"])("img",{class:"img-fluid",src:a.product[e.ref],alt:""},null,8,gc)])],8,jc)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:0,class:"d-block bg-light border rounded upfile-wrapper upload d-flex",for:e.ref},[Object(l["createElementVNode"])("input",{id:e.ref,ref_for:!0,ref:e.ref,class:"d-none",type:"file",onChange:t=>r.uploadFile(e.ref,e.ref)},null,40,bc),pc,uc],8,mc)),Object(l["createElementVNode"])("div",fc,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.name)+" ",1),a.status.fileUploading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("i",kc)):Object(l["createCommentVNode"])("",!0)])]))),128))])],512),Object(l["createElementVNode"])("section",hc,[Ec,Object(l["createElementVNode"])("div",Nc,[Object(l["createElementVNode"])("div",Vc,[Object(l["createElementVNode"])("label",vc,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"isEnabled1","onUpdate:modelValue":t[19]||(t[19]=e=>a.product.is_enabled=e),class:"form-check-input",type:"radio",value:"1"},null,512),[[l["vModelRadio"],a.product.is_enabled]]),yc]),Object(l["createElementVNode"])("label",Bc,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"isEnabled0","onUpdate:modelValue":t[20]||(t[20]=e=>a.product.is_enabled=e),class:"form-check-input",type:"radio",value:"0"},null,512),[[l["vModelRadio"],a.product.is_enabled]]),xc])])])],512)],512),Object(l["createElementVNode"])("div",Uc,[wc,Object(l["createElementVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[21]||(t[21]=t=>e.$emit("update-product",this.product))}," 確認 ")])])])],512)}var Ic=c("e0ae"),Pc={mixins:[Ic["a"]],inject:["httpMessageState"],emits:["update-product"],props:{tempProduct:{default(){return{imagesUrl:[]}}},isNew:{type:Boolean,default:!1}},data(){return{waitProcess:!1,status:{},product:{},category:["NEW 新品","上衣","裙裝","褲裝","配飾","套裝專區"],unit:["套","件"],clothSize:["S","M","L","XL","F"],productInformation:[{name:"款號",ref:"infolImageUrl"},{name:"尺碼",ref:"sizeImageUrl"},{name:"模特",ref:"modelInfoImageUrl"},{name:"試穿",ref:"tryOnImageUrl"},{name:"面料",ref:"tabricImageUrl"}],nav:[{name:"基本資訊",ref:"basic"},{name:"銷售",ref:"sales"},{name:"商品圖",ref:"productPicture"},{name:"展示圖",ref:"modelPicture"},{name:"商品細節",ref:"productDetail"},{name:"詳細資訊",ref:"productInformation"},{name:"上架狀態",ref:"isEnabled"}]}},watch:{tempProduct(){this.product=JSON.parse(JSON.stringify(this.tempProduct));const e=["imageUrl","unit","category","modelImageUrl","infolImageUrl","sizeImageUrl","modelInfoImageUrl","tabricImageUrl","tryOnImageUrl"],t=["imagesUrl","clothSize","colors","modelImagesUrl","detalImagesUrl"];e.forEach(e=>{this.product[e]||(this.product[e]="")}),t.forEach(e=>{this.product[e]||(this.product[e]=[])}),void 0===this.product.is_enabled&&(this.product.is_enabled=1)}},methods:{uploadFile(e,t,c){const l=this.$refs[e].files[0],o=new FormData;o.append("file-to-upload",l);const a="https://vue3-course-api.hexschool.io/api/haohao/admin/upload";this.status.fileUploading=!0;const r="圖片上傳";this.$http.post(a,o,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{this.status.fileUploading=!1,l.data.success?(c||0===c?this.product[t][c]=l.data.imageUrl:this.product[t]=l.data.imageUrl,this.$refs[e].value="",this.httpMessageState(l,r)):(this.$refs[e].value="",this.httpMessageState(l,r))})},colorsFocus(){this.product.colors.push({name:"",colorChart:""}),this.waitProcess=!0},subNav(e){this.$refs.modalBody.scrollTo(0,this.$refs[e].offsetTop-24)},clearFocus(e){this.$refs[e].focus()}},updated(){this.waitProcess&&(this.$refs["colors"+(this.product.colors.length-1)].focus(),this.waitProcess=!1)}};c("036b");Pc.render=Cc,Pc.__scopeId="data-v-14311676";var Mc=Pc,Sc={components:{DelModal:w["a"],Pagination:C["a"],ProductModal:Mc},inject:["httpMessageState"],data(){return{whateverActivatesThisLink:!1,pageName:"商品",isLoading:!1,products:[],pagination:[],currentPage:1,isNew:!1,tempProduct:{imagesUrl:[]}}},methods:{getData(e=1){this.isLoading=!0,this.currentPage=e;const t="https://vue3-course-api.hexschool.io/api/haohao/admin/products?page="+e;this.$http.get(t).then(e=>{this.products=e.data.products,this.pagination=e.data.pagination,this.isLoading=!1})},openModal(e,t){"create"===e?(this.tempProduct={imagesUrl:[]},this.isNew=!0,this.$refs.ProductModal.openModal()):"edit"===e?(this.tempProduct={...this.products[t]},this.isNew=!1,this.$refs.ProductModal.openModal()):"delete"===e&&(this.tempProduct={...this.products[t]},this.$refs.DelModal.openModal())},updateProduct(e){this.isLoading=!0,this.tempProduct=e,this.tempProduct.imagesUrl=this.tempProduct.imagesUrl.filter(Boolean),this.tempProduct.modelImagesUrl=this.tempProduct.modelImagesUrl.filter(Boolean),this.tempProduct.detalImagesUrl=this.tempProduct.detalImagesUrl.filter(Boolean),this.tempProduct.is_enabled=Number(this.tempProduct.is_enabled);const t=["S","M","L","XL","F"];this.tempProduct.clothSize=t.filter(e=>-1!==this.tempProduct.clothSize.indexOf(e));const c=[];this.tempProduct.colors.forEach(e=>{(Object.keys(e.name).length||Object.keys(e.colorChart).length)&&c.push(e)}),this.tempProduct.colors=c;let l="https://vue3-course-api.hexschool.io/api/haohao/admin/product",o="post",a="新增產品";this.isNew||(l="https://vue3-course-api.hexschool.io/api/haohao/admin/product/"+this.tempProduct.id,o="put",a="更新產品"),this.$http[o](l,{data:this.tempProduct}).then(e=>{e.data.success?(this.getData(this.currentPage),this.isLoading=!1,this.$refs.ProductModal.hideModal(),this.httpMessageState(e,a)):(this.isLoading=!1,this.httpMessageState(e,a))})},deleteProduct(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/haohao/admin/product/"+this.tempProduct.id;this.$http.delete(e).then(e=>{this.getData(this.currentPage),this.isLoading=!1,this.httpMessageState(e,"刪除產品"),this.$refs.DelModal.hideModal()})}},created(){this.getData()}};c("8428");Sc.render=U,Sc.__scopeId="data-v-f82b65a8";t["default"]=Sc},"515d":function(e,t,c){},"590b":function(e,t,c){"use strict";var l=c("7a23");const o=e=>(Object(l["pushScopeId"])("data-v-0e2046c7"),e=e(),Object(l["popScopeId"])(),e),a={id:"delProductModal",ref:"modal",class:"modal fade","aria-hidden":"true","aria-labelledby":"delProductModalLabel","data-bs-backdrop":"static",tabindex:"-1"},r={class:"modal-dialog"},n={class:"modal-content border-0"},d={class:"modal-header"},s={id:"delProductModalLabel",class:"modal-title"},i=o(()=>Object(l["createElementVNode"])("button",{class:"btn-close",type:"button","aria-label":"Close","data-bs-dismiss":"modal"},null,-1)),m={class:"modal-body"},b={class:"text-danger"},p={class:"modal-footer"},u=o(()=>Object(l["createElementVNode"])("button",{class:"btn btn-outline-secondary me-3",type:"button","data-bs-dismiss":"modal"}," 取消 ",-1));function j(e,t,c,o,j,O){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",a,[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("div",d,[Object(l["createElementVNode"])("h3",s,[Object(l["createElementVNode"])("span",null,"刪除"+Object(l["toDisplayString"])(c.origin),1)]),i]),Object(l["createElementVNode"])("div",m,[Object(l["createTextVNode"])(" 是否永久刪除【 "),Object(l["createElementVNode"])("strong",b," "+Object(l["toDisplayString"])(c.delItem)+" ",1),Object(l["createTextVNode"])(" 】? ")]),Object(l["createElementVNode"])("div",p,[u,Object(l["createElementVNode"])("button",{class:"btn btn-danger",type:"button",onClick:t[0]||(t[0]=t=>e.$emit("del-item"))},"刪除")])])])],512)}var O=c("e0ae"),g={mixins:[O["a"]],props:["origin","delItem"],emits:["del-item"]};c("e492");g.render=j,g.__scopeId="data-v-0e2046c7";t["a"]=g},8428:function(e,t,c){"use strict";c("25ad")},"9aba":function(e,t,c){},d4a2:function(e,t,c){"use strict";var l=c("7a23");const o=e=>(Object(l["pushScopeId"])("data-v-75ca2a47"),e=e(),Object(l["popScopeId"])(),e),a={"aria-label":"Page navigation example"},r={class:"pagination justify-content-end"},n=o(()=>Object(l["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1)),d=o(()=>Object(l["createElementVNode"])("span",{class:"sr-only"},null,-1)),s=[n,d],i={key:0,class:"page-link"},m=["onClick"],b=o(()=>Object(l["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1)),p=o(()=>Object(l["createElementVNode"])("span",{class:"sr-only"},null,-1)),u=[b,p];function j(e,t,c,o,n,d){return Object(l["openBlock"])(),Object(l["createElementBlock"])("nav",a,[Object(l["createElementVNode"])("ul",r,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])([{disabled:1===c.pages.current_page},"page-item"])},[Object(l["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(l["withModifiers"])(e=>d.emitPage(c.pages.current_page-1),["prevent"]))},s)],2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(c.pages.total_pages,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:t,class:Object(l["normalizeClass"])([{active:e===c.pages.current_page},"page-item"])},[e===c.pages.current_page?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",i,Object(l["toDisplayString"])(e),1)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:1,class:"page-link",href:"#",onClick:Object(l["withModifiers"])(t=>d.emitPage(e),["prevent"])},Object(l["toDisplayString"])(e),9,m))],2))),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])([{disabled:c.pages.current_page===c.pages.total_pages},"page-item"])},[Object(l["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(l["withModifiers"])(e=>d.emitPage(c.pages.current_page+1),["prevent"]))},u)],2)])])}var O={props:["pages"],methods:{emitPage(e){this.$emit("emit-page",e)}}};c("0d3c");O.render=j,O.__scopeId="data-v-75ca2a47";t["a"]=O},e492:function(e,t,c){"use strict";c("515d")}}]);
//# sourceMappingURL=chunk-28f3b0ff.c9af9630.js.map