(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65cefae2"],{"04da":function(e,t,c){},"12b0":function(e,t,c){"use strict";var a=c("7a23");const r=e=>(Object(a["pushScopeId"])("data-v-4ade4220"),e=e(),Object(a["popScopeId"])(),e),s={class:"web"},o=r(()=>Object(a["createElementVNode"])("div",{class:"process"},[Object(a["createElementVNode"])("i",{class:"material-icons md-36"},"local_atm"),Object(a["createElementVNode"])("div",{class:"text"},[Object(a["createElementVNode"])("div",{class:"cn"},"確認清單及付款方式"),Object(a["createElementVNode"])("div",{class:"en"},"Cart & Check out")])],-1)),l=r(()=>Object(a["createElementVNode"])("div",{class:"process"},[Object(a["createElementVNode"])("i",{class:"material-icons md-36"},"edit"),Object(a["createElementVNode"])("div",{class:"text"},[Object(a["createElementVNode"])("div",{class:"cn"},"填寫訂單資料"),Object(a["createElementVNode"])("div",{class:"en"},"Write The Add")])],-1)),d=Object(a["createStaticVNode"])('<div class="process" data-v-4ade4220><i class="material-icons md-36" data-v-4ade4220>local_shipping</i><div class="text" data-v-4ade4220><div class="cn" data-v-4ade4220>訂單完成</div><div class="en" data-v-4ade4220>Oder completed</div></div></div>',1),n=[d],i={class:"mobile"},m=r(()=>Object(a["createElementVNode"])("div",{class:"text"},[Object(a["createElementVNode"])("div",{class:"order"},"1."),Object(a["createElementVNode"])("div",{class:"text-group"},[Object(a["createElementVNode"])("div",{class:"cn"},"確認清單及付款方式"),Object(a["createElementVNode"])("div",{class:"en"},"Cart & Check out")])],-1)),b=r(()=>Object(a["createElementVNode"])("i",{class:"material-icons md-24"},"local_atm",-1)),p=r(()=>Object(a["createElementVNode"])("div",{class:"text"},[Object(a["createElementVNode"])("div",{class:"order"},"2."),Object(a["createElementVNode"])("div",{class:"text-group"},[Object(a["createElementVNode"])("div",{class:"cn"},"填寫訂單資料"),Object(a["createElementVNode"])("div",{class:"en"},"Write The Add")])],-1)),O=r(()=>Object(a["createElementVNode"])("i",{class:"material-icons md-24"},"edit",-1)),j=Object(a["createStaticVNode"])('<div class="text" data-v-4ade4220><div class="order" data-v-4ade4220>3.</div><div class="text-group" data-v-4ade4220><div class="cn" data-v-4ade4220>訂單完成</div><div class="en" data-v-4ade4220>Oder completed</div></div></div><i class="material-icons md-24" data-v-4ade4220>local_shipping</i>',2),u=[j];function v(e,t,c,r,d,j){const v=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("section",null,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(v,{class:"process-wrapper",to:"/cart"},{default:Object(a["withCtx"])(()=>[o]),_:1}),Object(a["createVNode"])(v,{class:"process-wrapper",to:"/cart/add"},{default:Object(a["withCtx"])(()=>[l]),_:1}),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([d.order?"active":"","process-wrapper"])},n,2)]),Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(v,{class:"process-wrapper",to:"/cart"},{default:Object(a["withCtx"])(()=>[m,b]),_:1}),Object(a["createVNode"])(v,{class:"process-wrapper",to:"/cart/add"},{default:Object(a["withCtx"])(()=>[p,O]),_:1}),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([d.order?"active":"","process-wrapper"])},u,2)])])}var N={data(){return{order:!1}},watch:{$route:{handler(){"cart-completed"===this.$route.name&&(this.order=!0)},immediate:!0}}};c("fa78");N.render=v,N.__scopeId="data-v-4ade4220";t["a"]=N},6876:function(e,t,c){"use strict";c("e366")},"69ff":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const r=e=>(Object(a["pushScopeId"])("data-v-26bd2914"),e=e(),Object(a["popScopeId"])(),e),s={class:"container py-4"},o={key:0},l={class:"completed-container"},d={class:"order-header"},n=r(()=>Object(a["createElementVNode"])("h1",null,"訂單明細",-1)),i={class:"number"},m=r(()=>Object(a["createElementVNode"])("div",{class:"gap"},null,-1)),b={class:"completed"},p={class:"item-wrapper detail"},O=r(()=>Object(a["createElementVNode"])("h2",null,"商品明細",-1)),j={class:"item-body"},u={class:"order-card"},v={class:"img-box"},N=["src"],V={class:"card-text"},E={class:"product-title"},h={class:"color-size"},g={class:"price"},y={class:"item-wrapper"},k=r(()=>Object(a["createElementVNode"])("h2",null,"訂購人信息",-1)),f={class:"item-body"},x={class:"item-group"},S={class:"item-group"},w=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),C=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),D={class:"item-wrapper"},B=r(()=>Object(a["createElementVNode"])("h2",null,"收件信息",-1)),_={class:"item-body"},T={class:"item-group"},$=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),I={key:0,class:"item-group"},A=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),z=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),L={key:1,class:"item-group"},J=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),q=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),M={key:2,class:"item-group"},P=r(()=>Object(a["createElementVNode"])("br",null,null,-1)),F={key:0,class:"item-wrapper"},U=r(()=>Object(a["createElementVNode"])("h2",null,"備註",-1)),W={class:"item-body"},G={class:"item-group"},H={class:"item-wrapper"},K=r(()=>Object(a["createElementVNode"])("h2",null,"付款方式",-1)),Q={class:"item-body"},R={class:"item-group"},X={class:"order-foot"},Y={class:"d-flex align-items-center"},Z=r(()=>Object(a["createElementVNode"])("i",{class:"fas fa-arrow-left"},null,-1));function ee(e,t,c,r,ee,te){const ce=Object(a["resolveComponent"])("CartProcess"),ae=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createVNode"])(ce),0!==Object.keys(ee.order).length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("main",null,[Object(a["createElementVNode"])("div",{class:"scenery",style:Object(a["normalizeStyle"])({backgroundImage:"url("+te.scenery+")"})},null,4),Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",d,[n,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{active:ee.order.is_paid},"state"])},[Object(a["createElementVNode"])("span",i,"編號 :  "+Object(a["toDisplayString"])(ee.orderId.substr(1)),1),m,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(ee.order.is_paid?"付款完成":"待付款"),1)],2)]),Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",p,[O,Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",u,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(te.products,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:"order-list"},[Object(a["createElementVNode"])("div",v,[Object(a["createElementVNode"])("img",{class:"img-fluid rounded",src:e.product.imageUrl},null,8,N)]),Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("div",E,Object(a["toDisplayString"])(e.product.title),1),Object(a["createElementVNode"])("div",h,Object(a["toDisplayString"])(e.selected[0].color)+" "+Object(a["toDisplayString"])(e.selected[0].size),1)]),Object(a["createElementVNode"])("div",g,Object(a["toDisplayString"])(e.selected[0].qty)+" x  NT$ "+Object(a["toDisplayString"])(e.product.price),1)]))),128))])])]),Object(a["createElementVNode"])("div",y,[k,Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.user.name),1)]),Object(a["createElementVNode"])("div",S,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(ee.order.user.tel)+" ",1),w,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(ee.order.user.email)+" ",1),C,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(ee.order.user.address),1)])])]),Object(a["createElementVNode"])("div",D,[B,Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.message.recipient.name),1),$,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(ee.order.message.recipient.tel),1)]),"7-11 超商取貨"==ee.order.message.payment.conveyance?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",I,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.message.payment.conveyance),1),A,Object(a["createTextVNode"])(" 全家台中忠孝夜店 F010256 "),z,Object(a["createTextVNode"])(" 台中市南區忠孝路102號 ")])):"全家 超商取貨"==ee.order.message.payment.conveyance?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",L,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.message.payment.conveyance),1),J,Object(a["createTextVNode"])(" 民生門市 186700 "),q,Object(a["createTextVNode"])(" 台中市南區復興路三段322號324號326號 ")])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.message.payment.conveyance),1),P,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(ee.order.message.recipient.address)+" "+Object(a["toDisplayString"])(ee.order.message.recipient.timePeriod),1)]))])]),ee.order.message.message?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,[U,Object(a["createElementVNode"])("div",W,[Object(a["createElementVNode"])("div",G,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.message.message),1)])])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",H,[K,Object(a["createElementVNode"])("div",Q,[Object(a["createElementVNode"])("div",R,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.order.message.payment.method),1)])])]),Object(a["createElementVNode"])("div",X,[Object(a["createElementVNode"])("div",Y,[Object(a["createVNode"])(ae,{class:"text-reset",to:"/products"},{default:Object(a["withCtx"])(()=>[Z,Object(a["createTextVNode"])(" 繼續購物 ")]),_:1})]),Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])([{active:ee.order.is_paid||"超商取貨付款 (COD)"==ee.order.message.payment.method||"貨到付款(COD)(+NT$30)"==ee.order.message.payment.method},"btn w-100 checkout"]),type:"button",onClick:t[0]||(t[0]=Object(a["withModifiers"])((...e)=>te.payment&&te.payment(...e),["prevent"]))},Object(a["toDisplayString"])(ee.order.is_paid||"超商取貨付款 (COD)"==ee.order.message.payment.method||"貨到付款(COD)(+NT$30)"==ee.order.message.payment.method?"訂單完成":"立即付款"),3)])])])])])):Object(a["createCommentVNode"])("",!0)])}var te=c("12b0"),ce={inject:["emitter"],components:{CartProcess:te["a"]},data(){return{orderId:"",order:{},productsAll:{}}},computed:{products(){const e=[],t=Object.keys(this.order.products).map(e=>({[e]:this.order.products[e]}));return t.forEach(t=>{const c=Object.entries(t)[0][1];if(1===c.selected.length)e.push(c);else for(let a=0;a<c.selected.length;a+=1){const t=JSON.parse(JSON.stringify(c)),r=[t.selected[a]];delete t.selected,t.selected=r,e.push(t)}}),e},qty(){let e=0;return this.products.forEach(t=>{e+=t.selected[0].qty}),e},scenery(){function e(e){return Math.floor(Math.random()*e)}const t=e(this.productsAll.length),c=this.productsAll[t].imageUrl;return c}},methods:{getOrder(){this.emitter.emit("isLoading",!0);const{id:e}=this.$route.params;this.orderId=e;const t="https://vue3-course-api.hexschool.io/api/haohao/order/"+e;this.$http.get(t).then(e=>{this.order=e.data.order,this.emitter.emit("isLoading",!1)})},getAll(){this.emitter.emit("isLoading",!0);const e="https://vue3-course-api.hexschool.io/api/haohao/products/all";this.$http.get(e).then(e=>{this.productsAll=e.data.products,this.emitter.emit("isLoading",!1)})},payment(){this.emitter.emit("isLoading",!0);const{id:e}=this.$route.params,t="https://vue3-course-api.hexschool.io/api/haohao/pay/"+e;this.$http.post(t).then(()=>{this.getOrder(),this.emitter.emit("isLoading",!1),this.$swal({icon:"success",title:"付款成功",timer:1500,showConfirmButton:!1})})}},created(){this.getOrder(),this.getAll()}};c("6876");ce.render=ee,ce.__scopeId="data-v-26bd2914";t["default"]=ce},e366:function(e,t,c){},fa78:function(e,t,c){"use strict";c("04da")}}]);
//# sourceMappingURL=chunk-65cefae2.502ccb17.js.map